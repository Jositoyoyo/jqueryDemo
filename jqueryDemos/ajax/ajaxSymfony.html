<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jQuery.mobile.loadPage demo</title>
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css">
  <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
  
</head>
<body>
 
  <div data-role="header">
      <h1>Ajax Symfony 2 Demo</h1>
    </div><!-- /header -->
<p><a href="#one" data-rel="back" data-role="button" data-inline="true" data-icon="back">Back to page "one"</a></p>
  <div data-role="content">
  <div data-role="collapsible-set" data-theme="c" data-content-theme="d">
<div data-role="collapsible">
      <h3>Formulario</h3>
        <div id="form"></div>
    </div>
<div data-role="collapsible">
      <h3>Load Page con plantilla</h3>
        <div id="feeds"></div>
    </div>
    <div data-role="collapsible">
        <h3>Load Page con Json</h3>
        <div id="Json"></div>
    </div>
	<div data-role="collapsible">
        <h3>Simple Ajax Jquery Php</h3>
        <div id="ajax"></div>
    </div>
</div>
<div id="error"></div>
<p>By default, the framework applies a <strong>fade</strong> transition. To set a custom transition effect, add the <code>data-transition</code> attribute to the link. </p>

</div>
 
<script>
//Php con limits
$( "#feeds" ).load( "http://localhost/symfony-2/web/app_dev.php/articulos/listarMobile", { limit: 1 }, function( response, status, xhr ) {
  if ( status == "error" ) {
    var msg = "Sorry but there was an error: ";
    $( "#error" ).html( msg + xhr.status + " " + xhr.statusText );
  }
});
//JSON
$.getJSON('http://localhost/symfony-2/web/app_dev.php/articulos/listarMobileJson', function(data) {
	 for (i = 0; i < data.length; i++)
	 {
  $('#Json').append("<div>"+ data[i] +"</div>");
	 }
	 
});
//Ajax
		$.ajax({
		  url: "http://localhost/symfony-2/web/app_dev.php/articulos/listarMobileResponse",
		  cache: false,
		  success: function(data){
			$("#ajax").html('<p>' + data + '</p>');
		  }
		});
//formulario simple con html
	//Php con limits
	$( "#form" ).load( "http://localhost/symfony-2/web/app_dev.php/articulo/newForm2", { limit: 1 }, function( response, status, xhr ) {
	  if ( status == "error" ) {
		var msg = "Sorry but there was an error: ";
		$( "#error" ).html( msg + xhr.status + " " + xhr.statusText );
	  }
	});
</script>
 

 
</body>
</html>